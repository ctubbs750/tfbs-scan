Building DAG of jobs...
Your conda installation is not configured to use strict channel priorities. This is however crucial for having robust and correct environments (for details, see https://conda-forge.org/docs/user/tipsandtricks.html). Please consider to configure strict priorities by executing 'conda config --set channel_priority strict'.
Using shell: /usr/bin/bash
Provided cores: 8
Rules claiming more threads will be scaled down.
Job stats:
job                               count
------------------------------  -------
PWMScan_compile_pwmscan               1
all                                   1
gencode_genes_filter_gencode          1
gencode_genes_make_exons              1
gencode_genes_parse_gencode           1
gencode_setup_download_gencode        1
genome_install_genome                 1
scan_bed2fasta                        1
scan_calculate_probabilities          1
scan_calculate_pwm                    1
scan_compress_sites                   1
scan_decompress_genome                1
scan_download_jaspar                  1
scan_mask_genome                      1
scan_mask_regions                     1
scan_process_probabilities            1
scan_scan_genome                      1
total                                17

Select jobs to execute...

[Wed Dec 27 13:22:59 2023]
Job 4: 
        Downloads motif matrix from the Jaspar database.
        
Reason: Missing output files: resources/data/jaspar/MA0007.3.jaspar


[Wed Dec 27 13:22:59 2023]
Job 14: 
        Downloads gencode basic build based off of input assembly
        
Reason: Missing output files: resources/gencode/hg38/gencode.hg38.basic.annotation.gtf.gz


[Wed Dec 27 13:22:59 2023]
Job 7: 
        Compiles PWMScan. Note c99 flag.
        Installs into resources/software by default.
        
Reason: Missing output files: resources/software/PWMScan/matrix_prob, resources/software/PWMScan/matrix_scan

[Wed Dec 27 13:23:00 2023]
Finished job 7.
1 of 17 steps (6%) done
Select jobs to execute...
[Wed Dec 27 13:23:01 2023]
Finished job 4.
2 of 17 steps (12%) done

[Wed Dec 27 13:23:01 2023]
rule scan_calculate_pwm:
    input: resources/data/jaspar/MA0007.3.jaspar
    output: results/tfbs-scan/MA0007.3/MA0007.3-pwm.txt
    log: workflow/logs/calculate_pwm_MA0007.3.stdout, workflow/logs/calculate_pwm_MA0007.3.stderr
    jobid: 3
    reason: Missing output files: results/tfbs-scan/MA0007.3/MA0007.3-pwm.txt; Input files updated by another job: resources/data/jaspar/MA0007.3.jaspar
    wildcards: PROFILE=MA0007.3
    threads: 2
    resources: tmpdir=/tmp

Activating conda environment: ../../../../../../../../../../../../../home/tubbsca/snakemake_condas/9f9842bbfc31decc8a1ad02a46329d02_
Activating conda environment: ../../../../../../../../../../../../../home/tubbsca/snakemake_condas/9f9842bbfc31decc8a1ad02a46329d02_
[Wed Dec 27 13:23:06 2023]
Finished job 3.
3 of 17 steps (18%) done
Select jobs to execute...

[Wed Dec 27 13:23:06 2023]
Job 6: 
        Generates pval distribution for given PWM.
        
Reason: Missing output files: results/tfbs-scan/MA0007.3/MA0007.3-pvals.raw; Input files updated by another job: results/tfbs-scan/MA0007.3/MA0007.3-pwm.txt, resources/software/PWMScan/matrix_prob

[Wed Dec 27 13:23:06 2023]
Finished job 6.
4 of 17 steps (24%) done
Select jobs to execute...

[Wed Dec 27 13:23:06 2023]
Job 5: 
        Relative threshold is percentage of best PWM.
        For 80%, format as interger 80. Makes life easier.
        
Reason: Missing output files: results/tfbs-scan/MA0007.3/MA0007.3-coeff.txt; Input files updated by another job: results/tfbs-scan/MA0007.3/MA0007.3-pvals.raw

[Wed Dec 27 13:23:06 2023]
Finished job 5.
5 of 17 steps (29%) done
Select jobs to execute...
[Wed Dec 27 13:23:49 2023]
Finished job 14.
6 of 17 steps (35%) done

[Wed Dec 27 13:23:49 2023]
Job 13: 
        Parses gtf formatted raw gencode download. Notes:
        - Formats to BED
        - Strips gene versions
        
Reason: Missing output files: results/gencode/hg38/gencode.hg38.basic.annotation.gtf.parsed.tsv; Input files updated by another job: resources/gencode/hg38/gencode.hg38.basic.annotation.gtf.gz

Activating conda environment: ../../../../../../../../../../../../../home/tubbsca/snakemake_condas/47260b91f283d546c72439ee43e92cd9_
Activating conda environment: ../../../../../../../../../../../../../home/tubbsca/snakemake_condas/47260b91f283d546c72439ee43e92cd9_
[Wed Dec 27 13:25:48 2023]
Finished job 13.
7 of 17 steps (41%) done
Select jobs to execute...

[Wed Dec 27 13:25:48 2023]
Job 12: 
        Subsets Gencode to protein-coding features and filters mitochondrial
        
Reason: Missing output files: results/gencode/hg38/gencode.hg38_protein_coding.no_chrM.bed; Input files updated by another job: results/gencode/hg38/gencode.hg38.basic.annotation.gtf.parsed.tsv

Activating conda environment: ../../../../../../../../../../../../../home/tubbsca/snakemake_condas/47260b91f283d546c72439ee43e92cd9_
[Wed Dec 27 13:26:02 2023]
Finished job 12.
8 of 17 steps (47%) done
Select jobs to execute...

[Wed Dec 27 13:26:02 2023]
Job 11: 
        Makes exons
        
Reason: Missing output files: results/gencode/hg38/gencode.hg38.exons.protein_coding.bed; Input files updated by another job: results/gencode/hg38/gencode.hg38_protein_coding.no_chrM.bed

Activating conda environment: ../../../../../../../../../../../../../home/tubbsca/snakemake_condas/47260b91f283d546c72439ee43e92cd9_
[Wed Dec 27 13:26:14 2023]
Finished job 11.
9 of 17 steps (53%) done
Select jobs to execute...

[Wed Dec 27 13:26:14 2023]
Job 10: 
        Installs target genome(s) under install dir
        - Regex to filter down to main chromosomes
        - Default provider set to UCSC
        
Reason: Missing output files: resources/data/genome/hg38/hg38.gaps.bed, resources/data/genome/hg38/hg38.fa.gz, resources/data/genome/hg38/hg38.blacklist.bed

Activating conda environment: ../../../../../../../../../../../../../home/tubbsca/snakemake_condas/ada2ba84c8bd6f04984fd5f5fda51637_
Terminating processes on user request, this might take some time.
[Wed Dec 27 13:37:09 2023]
Error in rule genome_install_genome:
    jobid: 10
    output: resources/data/genome/hg38/hg38.fa.gz, resources/data/genome/hg38/hg38.blacklist.bed, resources/data/genome/hg38/hg38.gaps.bed
    log: workflow/logs/install_genome-hg38.stdout, workflow/logs/install_genome-hg38.stderr (check log file(s) for error details)
    conda-env: /home/tubbsca/snakemake_condas/ada2ba84c8bd6f04984fd5f5fda51637_
    shell:
        
        genomepy plugin enable blacklist &&
        genomepy install hg38         --provider UCSC         --genomes_dir resources/data/genome         --bgzip         --threads 8         --regex chr[0-9XY]+$
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Complete log: .snakemake/log/2023-12-27T132247.694088.snakemake.log
