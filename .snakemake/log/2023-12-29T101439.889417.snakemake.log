Building DAG of jobs...
Your conda installation is not configured to use strict channel priorities. This is however crucial for having robust and correct environments (for details, see https://conda-forge.org/docs/user/tipsandtricks.html). Please consider to configure strict priorities by executing 'conda config --set channel_priority strict'.
Using shell: /usr/bin/bash
Provided cores: 24
Rules claiming more threads will be scaled down.
Job stats:
job                               count
------------------------------  -------
PWMScan_compile_pwmscan               1
all                                   1
gencode_genes_filter_gencode          1
gencode_genes_make_exons              1
gencode_genes_parse_gencode           1
gencode_setup_download_gencode        1
genome_confirm_gaps                   1
genome_install_blacklist              1
genome_install_genome                 1
scan_bed2fasta                        1
scan_calculate_probabilities          1
scan_calculate_pwm                    1
scan_compress_sites                   1
scan_decompress_genome                1
scan_download_jaspar                  1
scan_mask_genome                      1
scan_mask_regions                     1
scan_process_probabilities            1
scan_scan_genome                      1
total                                19

Select jobs to execute...

[Fri Dec 29 10:15:03 2023]
Job 4: 
        Downloads motif matrix from the Jaspar database.
        
Reason: Missing output files: resources/data/jaspar/MA0007.3.jaspar


[Fri Dec 29 10:15:03 2023]
Job 12: 
        Installs ENCODE blacklist.
        
Reason: Missing output files: resources/data/genome/hg38/hg38.blacklist.bed


[Fri Dec 29 10:15:03 2023]
Job 16: 
        Downloads gencode basic build based off of input assembly
        
Reason: Missing output files: resources/gencode/hg38/gencode.hg38.basic.annotation.gtf.gz


[Fri Dec 29 10:15:03 2023]
Job 7: 
        Compiles PWMScan. Note c99 flag.
        Installs into resources/software by default.
        
Reason: Missing output files: resources/software/PWMScan/matrix_prob, resources/software/PWMScan/matrix_scan


[Fri Dec 29 10:15:03 2023]
Job 11: 
        Installs target genome(s) under install dir
        - Regex to filter down to main chromosomes
        - Default provider set to UCSC
        
Reason: Missing output files: resources/data/genome/hg38/hg38.fa.gz

Activating conda environment: ../../../../../../../../../../../../../home/tubbsca/snakemake_condas/ada2ba84c8bd6f04984fd5f5fda51637_
Moving output file resources/data/genome/hg38/hg38.blacklist.bed to cache.
Symlinking output file resources/data/genome/hg38/hg38.blacklist.bed from cache.
[Fri Dec 29 10:15:03 2023]
Finished job 12.
1 of 19 steps (5%) done
[Fri Dec 29 10:15:04 2023]
Finished job 7.
2 of 19 steps (11%) done
[Fri Dec 29 10:15:06 2023]
Finished job 4.
3 of 19 steps (16%) done
Select jobs to execute...

[Fri Dec 29 10:15:06 2023]
rule scan_calculate_pwm:
    input: resources/data/jaspar/MA0007.3.jaspar
    output: results/tfbs-scan/hg38/MA0007.3/MA0007.3-pwm.txt
    log: workflow/logs/calculate_pwm_MA0007.3_hg38.stdout, workflow/logs/calculate_pwm_MA0007.3_hg38.stderr
    jobid: 3
    reason: Missing output files: results/tfbs-scan/hg38/MA0007.3/MA0007.3-pwm.txt; Input files updated by another job: resources/data/jaspar/MA0007.3.jaspar
    wildcards: ASSEMBLY=hg38, PROFILE=MA0007.3
    resources: tmpdir=/tmp

Activating conda environment: ../../../../../../../../../../../../../home/tubbsca/snakemake_condas/15eac168b67d44f04e70744dacff5721_
Activating conda environment: ../../../../../../../../../../../../../home/tubbsca/snakemake_condas/15eac168b67d44f04e70744dacff5721_
[Fri Dec 29 10:15:11 2023]
Finished job 3.
4 of 19 steps (21%) done
Select jobs to execute...

[Fri Dec 29 10:15:11 2023]
Job 6: 
        Generates pval distribution for given PWM.
        
Reason: Missing output files: results/tfbs-scan/hg38/MA0007.3/MA0007.3-pvals.raw; Input files updated by another job: results/tfbs-scan/hg38/MA0007.3/MA0007.3-pwm.txt, resources/software/PWMScan/matrix_prob

[Fri Dec 29 10:15:11 2023]
Finished job 6.
5 of 19 steps (26%) done
Select jobs to execute...

[Fri Dec 29 10:15:11 2023]
Job 5: 
        Relative threshold is percentage of best PWM.
        For 80%, format as interger 80. Makes life easier.
        
Reason: Missing output files: results/tfbs-scan/hg38/MA0007.3/MA0007.3-coeff.txt; Input files updated by another job: results/tfbs-scan/hg38/MA0007.3/MA0007.3-pvals.raw

[Fri Dec 29 10:15:12 2023]
Finished job 5.
6 of 19 steps (32%) done
Removing temporary output results/tfbs-scan/hg38/MA0007.3/MA0007.3-pvals.raw.
[Fri Dec 29 10:15:54 2023]
Finished job 16.
7 of 19 steps (37%) done
Select jobs to execute...

[Fri Dec 29 10:15:54 2023]
Job 15: 
        Parses gtf formatted raw gencode download. Notes:
        - Formats to BED
        - Strips gene versions
        
Reason: Missing output files: results/gencode/hg38/gencode.hg38.basic.annotation.gtf.parsed.tsv; Input files updated by another job: resources/gencode/hg38/gencode.hg38.basic.annotation.gtf.gz

Activating conda environment: ../../../../../../../../../../../../../home/tubbsca/snakemake_condas/47260b91f283d546c72439ee43e92cd9_
Activating conda environment: ../../../../../../../../../../../../../home/tubbsca/snakemake_condas/47260b91f283d546c72439ee43e92cd9_
[Fri Dec 29 10:18:32 2023]
Finished job 15.
8 of 19 steps (42%) done
Select jobs to execute...

[Fri Dec 29 10:18:32 2023]
Job 14: 
        Subsets Gencode to protein-coding features and filters mitochondrial
        
Reason: Missing output files: results/gencode/hg38/gencode.hg38_protein_coding.no_chrM.bed; Input files updated by another job: results/gencode/hg38/gencode.hg38.basic.annotation.gtf.parsed.tsv

Activating conda environment: ../../../../../../../../../../../../../home/tubbsca/snakemake_condas/47260b91f283d546c72439ee43e92cd9_
[Fri Dec 29 10:18:45 2023]
Finished job 14.
9 of 19 steps (47%) done
Removing temporary output results/gencode/hg38/gencode.hg38.basic.annotation.gtf.parsed.tsv.
Select jobs to execute...

[Fri Dec 29 10:18:45 2023]
Job 13: 
        Makes exons
        
Reason: Missing output files: results/gencode/hg38/gencode.hg38.exons.protein_coding.bed; Input files updated by another job: results/gencode/hg38/gencode.hg38_protein_coding.no_chrM.bed

Activating conda environment: ../../../../../../../../../../../../../home/tubbsca/snakemake_condas/47260b91f283d546c72439ee43e92cd9_
[Fri Dec 29 10:18:57 2023]
Finished job 13.
10 of 19 steps (53%) done
Removing temporary output results/gencode/hg38/gencode.hg38_protein_coding.no_chrM.bed.
Terminating processes on user request, this might take some time.
[Fri Dec 29 10:45:39 2023]
Error in rule genome_install_genome:
    jobid: 11
    output: resources/data/genome/hg38/hg38.fa.gz
    log: workflow/logs/install_genome-hg38.stdout, workflow/logs/install_genome-hg38.stderr (check log file(s) for error details)
    conda-env: /home/tubbsca/snakemake_condas/ada2ba84c8bd6f04984fd5f5fda51637_
    shell:
        
        genomepy plugin disable  blacklist &&
        genomepy install hg38         --provider UCSC         --genomes_dir resources/data/genome         --bgzip         --threads 16         --regex chr[0-9XY]+$
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Complete log: .snakemake/log/2023-12-29T101439.889417.snakemake.log
